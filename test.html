<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ RETRO-PC STORE - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            color: #33ff33;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            color: #33ff33;
            margin-bottom: 20px;
            text-align: center;
            font-size: 2rem;
            text-shadow: 0 0 10px #33ff33;
        }
        
        .test-section {
            background: #0d0d0d;
            border: 2px solid #33ff33;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 0 15px rgba(51, 255, 51, 0.3);
        }
        
        .test-section h2 {
            color: #ffb000;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .test-item {
            padding: 10px;
            margin-bottom: 10px;
            background: rgba(51, 255, 51, 0.05);
            border-left: 3px solid #666;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .test-item.pass {
            border-left-color: #33ff33;
        }
        
        .test-item.fail {
            border-left-color: #ff3333;
        }
        
        .test-name {
            flex: 1;
        }
        
        .test-status {
            padding: 5px 15px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .test-status.pass {
            background: #33ff33;
            color: #0a0a0a;
        }
        
        .test-status.fail {
            background: #ff3333;
            color: #ffffff;
        }
        
        .test-status.pending {
            background: #ffb000;
            color: #0a0a0a;
        }
        
        .summary {
            background: #1a1a1a;
            border: 3px solid #33ff33;
            padding: 20px;
            margin-top: 30px;
            text-align: center;
        }
        
        .summary h2 {
            color: #ffb000;
            margin-bottom: 15px;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 0 0 15px currentColor;
        }
        
        .stat-label {
            font-size: 1rem;
            margin-top: 10px;
            opacity: 0.8;
        }
        
        .run-button {
            background: #33ff33;
            color: #0a0a0a;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            box-shadow: 0 0 20px rgba(51, 255, 51, 0.5);
            transition: all 0.3s ease;
        }
        
        .run-button:hover {
            box-shadow: 0 0 30px rgba(51, 255, 51, 0.8);
            transform: scale(1.05);
        }
        
        .log {
            background: #000;
            border: 1px solid #33ff33;
            padding: 15px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            font-size: 0.9rem;
        }
        
        .log-entry {
            margin-bottom: 5px;
        }
        
        .log-success { color: #33ff33; }
        .log-error { color: #ff3333; }
        .log-info { color: #ffb000; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ RETRO-PC STORE - –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –¢–ï–°–¢–´</h1>
        
        <button class="run-button" onclick="runAllTests()">‚ñ∂ –ó–ê–ü–£–°–¢–ò–¢–¨ –í–°–ï –¢–ï–°–¢–´</button>
        
        <div class="test-section">
            <h2>üìÑ HTML –°—Ç—Ä—É–∫—Ç—É—Ä–∞</h2>
            <div id="html-tests"></div>
        </div>
        
        <div class="test-section">
            <h2>üé® CSS –°—Ç–∏–ª–∏</h2>
            <div id="css-tests"></div>
        </div>
        
        <div class="test-section">
            <h2>‚öôÔ∏è JavaScript –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</h2>
            <div id="js-tests"></div>
        </div>
        
        <div class="test-section">
            <h2>üì¶ –î–∞–Ω–Ω—ã–µ –∏ –ö–æ–Ω—Ç–µ–Ω—Ç</h2>
            <div id="data-tests"></div>
        </div>
        
        <div class="test-section">
            <h2>üîç SEO –∏ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</h2>
            <div id="seo-tests"></div>
        </div>
        
        <div class="test-section">
            <h2>üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –ú–µ–¥–∏–∞</h2>
            <div id="media-tests"></div>
        </div>
        
        <div class="summary">
            <h2>üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê</h2>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" style="color: #33ff33;" id="pass-count">0</div>
                    <div class="stat-label">–ü—Ä–æ–π–¥–µ–Ω–æ</div>
                </div>
                <div class="stat">
                    <div class="stat-value" style="color: #ff3333;" id="fail-count">0</div>
                    <div class="stat-label">–ü—Ä–æ–≤–∞–ª–µ–Ω–æ</div>
                </div>
                <div class="stat">
                    <div class="stat-value" style="color: #ffb000;" id="total-count">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ</div>
                </div>
            </div>
        </div>
        
        <div class="log" id="test-log"></div>
    </div>

    <script>
        let passCount = 0;
        let failCount = 0;
        let totalCount = 0;

        function log(message, type = 'info') {
            const logDiv = document.getElementById('test-log');
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function addTest(category, name, result) {
            totalCount++;
            const container = document.getElementById(category);
            const testItem = document.createElement('div');
            testItem.className = `test-item ${result ? 'pass' : 'fail'}`;
            
            testItem.innerHTML = `
                <div class="test-name">${name}</div>
                <div class="test-status ${result ? 'pass' : 'fail'}">${result ? '‚úì PASS' : '‚úó FAIL'}</div>
            `;
            
            container.appendChild(testItem);
            
            if (result) {
                passCount++;
                log(`‚úì ${name}`, 'success');
            } else {
                failCount++;
                log(`‚úó ${name}`, 'error');
            }
            
            updateStats();
        }

        function updateStats() {
            document.getElementById('pass-count').textContent = passCount;
            document.getElementById('fail-count').textContent = failCount;
            document.getElementById('total-count').textContent = totalCount;
        }

        async function runAllTests() {
            // –°–±—Ä–æ—Å
            passCount = 0;
            failCount = 0;
            totalCount = 0;
            document.getElementById('test-log').innerHTML = '';
            ['html-tests', 'css-tests', 'js-tests', 'data-tests', 'seo-tests', 'media-tests'].forEach(id => {
                document.getElementById(id).innerHTML = '';
            });
            
            log('üöÄ –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...', 'info');
            
            // HTML –¢–ï–°–¢–´
            await testHTML();
            
            // CSS –¢–ï–°–¢–´
            await testCSS();
            
            // JS –¢–ï–°–¢–´
            await testJavaScript();
            
            // DATA –¢–ï–°–¢–´
            await testData();
            
            // SEO –¢–ï–°–¢–´
            await testSEO();
            
            // MEDIA –¢–ï–°–¢–´
            await testMedia();
            
            log('‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!', 'success');
            log(`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${passCount}/${totalCount} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ`, 'info');
        }

        async function testHTML() {
            try {
                const response = await fetch('index.html');
                const html = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                addTest('html-tests', 'HTML —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è', response.ok);
                addTest('html-tests', '–ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç <!DOCTYPE html>', html.includes('<!DOCTYPE html>'));
                addTest('html-tests', '–Ø–∑—ã–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (lang="ru")', html.includes('lang="ru"'));
                addTest('html-tests', '–ú–µ—Ç–∞ charset UTF-8', html.includes('charset="UTF-8"'));
                addTest('html-tests', 'Viewport –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö', html.includes('name="viewport"'));
                addTest('html-tests', 'Title —Å—Ç—Ä–∞–Ω–∏—Ü—ã', doc.querySelector('title') !== null);
                addTest('html-tests', 'H1 –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç', doc.querySelector('h1') !== null);
                addTest('html-tests', 'Main –∫–æ–Ω—Ç–µ–Ω—Ç', doc.querySelector('main') !== null);
                addTest('html-tests', 'Header —Å–µ–∫—Ü–∏—è', doc.querySelector('header') !== null);
                addTest('html-tests', 'Footer —Å–µ–∫—Ü–∏—è', doc.querySelector('footer') !== null);
                
            } catch (error) {
                log(`–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è HTML: ${error.message}`, 'error');
            }
        }

        async function testCSS() {
            try {
                const response = await fetch('assets/css/main.css?nocache=' + Date.now());
                const css = await response.text();
                
                addTest('css-tests', 'CSS —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è', response.ok);
                addTest('css-tests', '–¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç (#33ff33)', css.includes('#33ff33') || css.includes('33ff33'));
                addTest('css-tests', 'CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (:root)', css.includes(':root'));
                addTest('css-tests', 'Grid layout –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤', css.includes('grid-template-columns'));
                addTest('css-tests', 'Flexbox –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è', css.includes('display: flex'));
                addTest('css-tests', 'Media queries –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–∞', css.includes('@media'));
                addTest('css-tests', '–ö–∞—Å—Ç–æ–º–Ω—ã–π scrollbar', css.includes('scrollbar') || css.includes('::-webkit-scrollbar'));
                addTest('css-tests', '–ê–Ω–∏–º–∞—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã', css.includes('@keyframes'));
                addTest('css-tests', 'Product card —Å—Ç–∏–ª–∏', css.includes('.product-card'));
                addTest('css-tests', 'Modal window —Å—Ç–∏–ª–∏', css.includes('.modal') || css.includes('.product-modal'));
                
            } catch (error) {
                log(`–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CSS: ${error.message}`, 'error');
            }
        }

        async function testJavaScript() {
            try {
                const response = await fetch('assets/js/main.js?nocache=' + Date.now());
                const js = await response.text();
                
                addTest('js-tests', 'JS —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è', response.ok);
                addTest('js-tests', 'Strict mode –≤–∫–ª—é—á—ë–Ω', js.includes("'use strict'"));
                addTest('js-tests', 'retroApp –æ–±—ä–µ–∫—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω', js.includes('window.retroApp'));
                addTest('js-tests', '–§—É–Ω–∫—Ü–∏—è init', js.includes('init:'));
                addTest('js-tests', '–§—É–Ω–∫—Ü–∏—è createProductCard', js.includes('createProductCard'));
                addTest('js-tests', '–§—É–Ω–∫—Ü–∏—è viewProduct', js.includes('viewProduct'));
                addTest('js-tests', '–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã', js.includes('setupThemeToggle') || js.includes('theme'));
                addTest('js-tests', 'Wiki modal —Ñ—É–Ω–∫—Ü–∏—è', js.includes('setupWikiModal') || js.includes('wiki'));
                addTest('js-tests', 'Event listeners', js.includes('addEventListener'));
                addTest('js-tests', 'Error handling', js.includes('try') && js.includes('catch'));
                
            } catch (error) {
                log(`–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è JS: ${error.message}`, 'error');
            }
        }

        async function testData() {
            try {
                const response = await fetch('assets/js/fallback-data.js');
                const data = await response.text();
                
                addTest('data-tests', '–î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è', response.ok);
                addTest('data-tests', 'fallbackProducts –º–∞—Å—Å–∏–≤', data.includes('fallbackProducts'));
                addTest('data-tests', '–¢–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç ID', data.includes('"id"') || data.includes('id:'));
                addTest('data-tests', '–¢–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç –Ω–∞–∑–≤–∞–Ω–∏—è', data.includes('"name"') || data.includes('name:'));
                addTest('data-tests', '–¢–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç —Ü–µ–Ω—ã', data.includes('"price"') || data.includes('price:'));
                addTest('data-tests', '–¢–æ–≤–∞—Ä—ã –∏–º–µ—é—Ç –æ–ø–∏—Å–∞–Ω–∏—è', data.includes('"description"') || data.includes('description:'));
                addTest('data-tests', 'Intel 8086 –≤ –¥–∞–Ω–Ω—ã—Ö', data.includes('8086'));
                addTest('data-tests', 'Intel 8088 –≤ –¥–∞–Ω–Ω—ã—Ö', data.includes('8088'));
                addTest('data-tests', 'Intel 8087 –≤ –¥–∞–Ω–Ω—ã—Ö', data.includes('8087'));
                
            } catch (error) {
                log(`–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö: ${error.message}`, 'error');
            }
        }

        async function testSEO() {
            try {
                const htmlResponse = await fetch('index.html');
                const html = await htmlResponse.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                addTest('seo-tests', 'Meta description', doc.querySelector('meta[name="description"]') !== null);
                addTest('seo-tests', 'Meta keywords', doc.querySelector('meta[name="keywords"]') !== null);
                addTest('seo-tests', 'Canonical URL', doc.querySelector('link[rel="canonical"]') !== null);
                addTest('seo-tests', 'Open Graph title', doc.querySelector('meta[property="og:title"]') !== null);
                addTest('seo-tests', 'Open Graph image', doc.querySelector('meta[property="og:image"]') !== null);
                addTest('seo-tests', 'Twitter Card', doc.querySelector('meta[name="twitter:card"]') !== null);
                
                // robots.txt
                try {
                    const robotsResponse = await fetch('robots.txt');
                    addTest('seo-tests', 'robots.txt —Å—É—â–µ—Å—Ç–≤—É–µ—Ç', robotsResponse.ok);
                } catch {
                    addTest('seo-tests', 'robots.txt —Å—É—â–µ—Å—Ç–≤—É–µ—Ç', false);
                }
                
                // sitemap.xml
                try {
                    const sitemapResponse = await fetch('sitemap.xml');
                    addTest('seo-tests', 'sitemap.xml —Å—É—â–µ—Å—Ç–≤—É–µ—Ç', sitemapResponse.ok);
                } catch {
                    addTest('seo-tests', 'sitemap.xml —Å—É—â–µ—Å—Ç–≤—É–µ—Ç', false);
                }
                
            } catch (error) {
                log(`–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è SEO: ${error.message}`, 'error');
            }
        }

        async function testMedia() {
            const images = [
                'assets/img/Intel_8086-2.jpg',
                'assets/img/Intel_8088-2.jpg',
                'assets/img/Intel_8087.jpg',
                'assets/img/Intel_80286.svg',
                'assets/img/IBM_PC_5150_Motherboard.svg',
                'assets/img/RAM_64KB.svg',
                'assets/img/CGA_Card.svg',
                'assets/img/MDA_Card.svg',
                'assets/img/IBM_Model_F_Keyboard.svg',
                'assets/img/Floppy_Drive_525.svg',
                'assets/img/IBM_PC_XT_Case.svg',
                'assets/img/PC_Speaker.svg',
                'assets/img/fallback/chip-placeholder.svg',
                'favicon.svg'
            ];
            
            for (const img of images) {
                try {
                    const response = await fetch(img);
                    const name = img.split('/').pop();
                    addTest('media-tests', `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: ${name}`, response.ok);
                } catch {
                    const name = img.split('/').pop();
                    addTest('media-tests', `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: ${name}`, false);
                }
            }
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            setTimeout(runAllTests, 500);
        });
    </script>
</body>
</html>
